---
import NotFoundComponent from '../components/NotFoundComponent.astro'
import ProfileComponent from '../components/ProfileComponent.astro'
import Layout from '../layouts/Layout.astro'
import { supabase } from '../lib/supabase'

const { data } = await supabase.from('profile').select()

const profile = data?.at(0)

console.log(profile)
---

{
  profile ? (
    <Layout profile={profile}>
      <ProfileComponent profile={profile} />
    </Layout>
  ) : (
    <NotFoundComponent />
  )
}
